{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": { "url": "https://raw.githubusercontent.com/Alicia-hub03/3179/refs/heads/main/Vis2/data/monthly_arrivals_by_state.csv" },
    "width": 500,
    "height": 350,
    "params": [
        {
            "name": "Year_selection",
            "value": 2020,
            "bind": {
                "input": "range",
                "min": 2020,
                "max": 2023,
                "step": 1,
                "name": "Year:  "
            }
        }
    ],
    "mark": {"type": "rect", "strokeWidth": 2},
    "transform": [
                { "filter": "datum.year == Year_selection" }
            ],
    "encoding": {
        "y": {
            "field": "state",
            "type": "nominal",
            "title": "State"
        },
        "x": {
            "field": "month",
            "timeUnit": "month",
            "type": "ordinal",
            "title": "Month"
        },
        "fill": {
          "field": "total_arrivals",
          "type": "quantitative",
          "title": "Total Tourist",
          "scale": {
                            "type": "threshold",
                            "domain": [ 5, 10, 50, 100, 500, 1000, 5000, 10000, 15000, 100000, 500000, 1000000, 1500000],
                            "rangeMin": 0,
                            "rangeMax": 2000000
                        }
        },
        "tooltip": [
            {"field": "state", "type": "nominal", "title": "State"},
            {
                "field": "total_arrivals",
                "type": "quantitative",
                "title": "Number of Tourist",
                "format": ","
            },
            {"field": "month","timeUnit": "month","type": "ordinal", "title": "Month"}
        ]
    },
    "config": {
        "scale": {"bandPaddingInner": 0, "bandPaddingOuter": 0},
        "view": {"step": 40},
        "range": {"ramp": {"scheme": "yellowgreenblue"}},
        "axis": {
          "domain": false,
          "grid": true,
          "tickBand": "extent"
        }
      }
}